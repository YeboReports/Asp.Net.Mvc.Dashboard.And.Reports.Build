@using CommonDLL.DTO
@{
    ViewBag.Title = "User";
    Layout = "~/Views/Shared/_mainLayout.cshtml";
}

<div class="divTop">
    Users
</div>

@Html.Action("UserTopViewPartial", "User")

@Html.DevExpress().PageControl(
         settings =>
         {
             settings.Name = "WorkFlowStepsTabs";
             settings.EnableTabScrolling = true;

             settings.Width = Unit.Percentage(100);
             settings.ControlStyle.CssClass = "dxtcFixed";

             settings.TabPages.Add("Users").SetContent(() =>
             {
                 using (Html.BeginForm())
                 {

                     Html.RenderAction("UserGridViewPartial", "User", new { });
                 }

             });

             settings.TabPages.Add("Reset Passwords").SetContent(() =>
             {
                 using (Html.BeginForm())
                 {

                     Html.RenderAction("UserPasswordGridViewPartial", "User", new { });
                 }

             });

             //settings.TabPages.Add("User Roles").SetContent(() =>
             //{
             //    using (Html.BeginForm())
             //    {

             //        Html.RenderAction("UserRoleGridPartialView", "UserRole", new { });
             //    }

             //});


             settings.TabPages.Add("User IPs").SetContent(() =>
             {
                 using (Html.BeginForm())
                 {

                     Html.RenderAction("UserIPGridPartial", "UserIP", new { });
                 }

             });


             settings.TabPages.Add("Logins").SetContent(() =>
             {
                 using (Html.BeginForm())
                 {

                     Html.RenderAction("LoginLogGridPartialView", "LoginLog", new { });
                 }

             });


         }).GetHtml()

<script type="text/javascript">
    function DeleteAllLogins()
    {

         $.ajax({
                type: "POST",
                url: '@Url.Action("DeleteAll", "LoginLog")',
                data:
                {
                },
                success: function (response)
                {

                    LoginLogGridView.PerformCallback();
                }
            });

    }
</script>

@Html.DevExpress().PopupControl(settings =>
{
    settings.HeaderText = "User Roles";
    settings.Styles.Header.Font.Size = 10;
    settings.SettingsAdaptivity.Mode = PopupControlAdaptivityMode.OnWindowInnerWidth;
    settings.SettingsAdaptivity.VerticalAlign = PopupAdaptiveVerticalAlign.WindowCenter;
    settings.Style.Add("font-size", "7pt");
    settings.Name = "UserRoleAddEditPopup";
    settings.Style.Add("Color", "Gray");
    settings.Style.Add("border-color", "Gray");
    settings.Style.Add("border-width", "2px");
    settings.AllowDragging = true;
    settings.CloseAction = CloseAction.CloseButton;
    settings.Height = Unit.Percentage(100);
    settings.Width = Unit.Pixel(600);
    settings.PopupAnimationType = AnimationType.None;
    settings.Modal = true;
    settings.PopupHorizontalAlign = PopupHorizontalAlign.WindowCenter;
    settings.PopupVerticalAlign = PopupVerticalAlign.WindowCenter;
    settings.ClientSideEvents.CloseButtonClick = "function(s, e) { ReloadUserGrid(); }";
    settings.SetContent(() => Html.RenderPartial("_UserRoleViewPartialPopup", null));
}).GetHtml()